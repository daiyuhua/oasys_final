webpackJsonp([5],{"R+Qr":function(e,t){},ap9S:function(e,t,a){var l={"./performanceList.vue":"qQOE","./performanceReCheck.vue":"bvl7"};function n(e){return a(o(e))}function o(e){var t=l[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}n.keys=function(){return Object.keys(l)},n.resolve=o,e.exports=n,n.id="ap9S"},bvl7:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l={name:"performanceReCheck",data:function(){return{performance:{workId:this.$store.state.user.workId,office:"",performanceId:"",applyDate:"",checkOnDay:"",checkOnPercent:"",performanceStatus:"",isReCheck:"",reCheckStatus:"",employee:{fullname:""}},query:{address:"",name:"",pageIndex:1,size:0},tableData:[],pageTotal:0,total:0,size:5,page:1,idx:-1,keyword:null,fileList:[],editVisible:!1,options:[{value:"001",label:"行政部门"},{value:"002",label:"人事部门"},{value:"003",label:"销售部门"},{value:"004",label:"财务部门"},{value:"005",label:"美术部门"},{value:"006",label:"策划部门"}]}},mounted:function(){this.getData()},methods:{getData:function(){var e=this,t="oasys-back-end/getAllReCheck?page="+this.page+"&size="+this.size+"&office="+this.$store.state.user.workId;this.getRequest(t).then(function(t){null!=t.data.data?(console.log(t.data.data),e.tableData=t.data.data,e.total=t.data.total,e.pageTotal=Math.ceil(e.total/e.size)):e.$message.warning("没有数据")})},handleReCheckStatus:function(e,t){this.index=e,this.performance=t,this.editVisible=!0},saveAdd:function(e){var t=this;this.performance.reCheckStatus=e,this.postRequest("oasys-back-end/editReCheckStatus",this.performance).then(function(e){!0===e.data?t.$message.success("修改成功"):t.$message.error("修改失败")})},handlePageChange:function(e){this.page=e,this.getData()},sizeChange:function(e){this.size=e,this.getData()},handleSelectionChange:function(e){this.multipleSelection=e},submit:function(e){},submitUpload:function(){var e=new FormData;this.fileList.forEach(function(t){e.append("file",t.raw)}),console.log(e),this.fileRequest("oasys-back-end/upload",e).then(function(e){e&&console.log("success")})},handleRemove:function(e,t){console.log(e,t)},handleChange:function(e,t){this.fileList=t,console.log(t)},handleReCheck:function(){console.log("测试")}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-cascades"}),e._v(" 基础表格\n            ")])],1)],1),e._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"handle-box"},[a("el-input",{staticClass:"handle-input",attrs:{placeholder:"请输入关键字",clearable:"","prefix-icon":"el-icon-search"},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.getData()}}},[e._v("搜索")])],1),e._v(" "),a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData,border:"","header-cell-class-name":"table-header"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"业绩报告编号",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.performanceId))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"业绩提交时间",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.applyDate))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"考勤天数",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.checkOnDay))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"考勤天数占月份比重",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.checkOnPercent))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"是否通过考核",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.performanceStatus))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"是否申请考核复核",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.isReCheck))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"复核情况",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.reCheckStatus))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return"是"==t.row.isReCheck?a("el-button",{staticClass:"el-icon-edit",attrs:{type:"text"},on:{click:function(a){return e.handleReCheckStatus(t.index,t.row)}}},[e._v("审核\n                ")]):e._e()}}],null,!0)})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next ,->, total","page-count":e.pageTotal,"current-page":e.query.pageIndex,"page-size":e.query.size},on:{"current-change":e.handlePageChange,"size-change":e.sizeChange,"prev-click":e.handlePageChange,"next-click":e.handlePageChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"业绩审核",visible:e.editVisible,width:"50%"},on:{"update:visible":function(t){e.editVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.performance,"label-width":"70px",enctype:"multipart/form-data"}},[a("el-form-item",{attrs:{label:"工号"}},[a("el-input",{attrs:{disabled:""},model:{value:e.performance.workId,callback:function(t){e.$set(e.performance,"workId",t)},expression:"performance.workId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{disabled:""},model:{value:e.performance.employee.fullname,callback:function(t){e.$set(e.performance.employee,"fullname",t)},expression:"performance.employee.fullname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"部门"}},[a("el-select",{attrs:{placeholder:"请选择",disabled:""},model:{value:e.performance.office,callback:function(t){e.$set(e.performance,"office",t)},expression:"performance.office"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"提交时间"}},[a("el-date-picker",{attrs:{type:"date",disabled:""},model:{value:e.performance.applyDate,callback:function(t){e.$set(e.performance,"applyDate",t)},expression:"performance.applyDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工作文件"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"#",multiple:"","on-change":e.handleChange,"on-remove":e.handleRemove,"http-request":e.submit(),"file-list":e.fileList,"auto-upload":!1}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")])],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){return e.saveAdd("通过")}}},[e._v("未通过")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.saveAdd("通过")}}},[e._v("通 过")])],1)],1)],1)])},staticRenderFns:[]};var o=a("VU/8")(l,n,!1,function(e){a("nfWs")},"data-v-2f3876c2",null);t.default=o.exports},nfWs:function(e,t){},qQOE:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("mvHQ"),n=a.n(l),o=a("d1wj"),r={name:"performanceList",data:function(){return{performance:{workId:this.$store.state.user.workId,office:"",performanceId:"",applyDate:"",checkOnDay:"",checkOnPercent:"",performanceStatus:"",isReCheck:"",reCheckStatus:"",employee:{fullname:""}},query:{address:"",name:"",pageIndex:1,size:0},tableData:[],pageTotal:0,total:0,size:5,page:1,keyword:null,fileList:[],addVisible:!1,options:[{value:"001",label:"行政部门"},{value:"002",label:"人事部门"},{value:"003",label:"销售部门"},{value:"004",label:"财务部门"},{value:"005",label:"美术部门"},{value:"006",label:"策划部门"}]}},mounted:function(){this.getData()},methods:{getData:function(){var e=this,t="oasys-back-end/getAllPerformanceByWorkId?page="+this.page+"&size="+this.size+"&workId="+this.$store.state.user.workId;this.getRequest(t).then(function(t){null!=t.data.data?(console.log(t.data.data),e.tableData=t.data.data,e.total=t.data.total,e.pageTotal=Math.ceil(e.total/e.size)):e.$message.warning("没有数据")})},handleAdd:function(){this.addVisible=!0},saveAdd:function(){var e=this;console.log(this.performance.applyDate);var t=new FormData;this.fileList.forEach(function(e){t.append("file",e.raw)}),t.append("performance",n()(this.performance)),this.fileRequest("oasys-back-end/upload",t).then(function(t){!0===t.data?(e.$message.success("提交成功"),e.addVisible=!1):e.$message.error("提交失败")})},handlePageChange:function(e){this.page=e,this.getData()},sizeChange:function(e){this.size=e,this.getData()},handleSelectionChange:function(e){this.multipleSelection=e},submit:function(e){},submitUpload:function(){var e=new FormData;this.fileList.forEach(function(t){e.append("file",t.raw)}),console.log(e),this.fileRequest("oasys-back-end/upload",e).then(function(e){e&&console.log("success")})},handleRemove:function(e,t){console.log(e,t)},handleChange:function(e,t){this.fileList=t,console.log(t)},handleReCheck:function(e){var t=this;this.$alert("确定要审核吗？","提醒",{confirmButtonText:"确定",callback:function(a){Object(o.d)("oasys-back-end/editIsReCheck",{isReCheck:"是",workId:e.workId,applyDate:e.applyDate}).then(function(e){console.log(e.data),!0===e.data?(console.log("成功"),t.$message({type:"success",message:"提交成功"})):t.$message.error("提交失败")})}})}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-cascades"}),e._v(" 基础表格\n            ")])],1)],1),e._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"handle-box"},[a("el-button",{staticClass:"handle-del mr10",attrs:{type:"primary",icon:"el-icon-circle-plus"},on:{click:function(t){return e.handleAdd()}}},[e._v("业绩报告\n            ")]),e._v(" "),a("el-input",{staticClass:"handle-input",attrs:{placeholder:"请输入关键字",clearable:"","prefix-icon":"el-icon-search"},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.getData()}}},[e._v("搜索")])],1),e._v(" "),a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData,border:"","header-cell-class-name":"table-header"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"业绩报告编号",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.performanceId))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"业绩提交时间",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.applyDate))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"考勤天数",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.checkOnDay))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"考勤天数占月份比重",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.checkOnPercent))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"是否通过考核",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.performanceStatus))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"是否申请考核复核",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.isReCheck))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"复核情况",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.reCheckStatus))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return"未通过"==t.row.performanceStatus?a("el-button",{staticClass:"el-icon-edit",attrs:{type:"text"},on:{click:function(a){return e.handleReCheck(t.row)}}},[e._v("申请复核\n                ")]):e._e()}}],null,!0)})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next ,->, total","page-count":e.pageTotal,"current-page":e.query.pageIndex,"page-size":e.query.size},on:{"current-change":e.handlePageChange,"size-change":e.sizeChange,"prev-click":e.handlePageChange,"next-click":e.handlePageChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"绩效报告上传",visible:e.addVisible,width:"50%"},on:{"update:visible":function(t){e.addVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.performance,"label-width":"70px",enctype:"multipart/form-data"}},[a("el-form-item",{attrs:{label:"工号"}},[a("el-input",{attrs:{disabled:""},model:{value:e.performance.workId,callback:function(t){e.$set(e.performance,"workId",t)},expression:"performance.workId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{model:{value:e.performance.employee.fullname,callback:function(t){e.$set(e.performance.employee,"fullname",t)},expression:"performance.employee.fullname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"部门"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.performance.office,callback:function(t){e.$set(e.performance,"office",t)},expression:"performance.office"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"提交时间"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.performance.applyDate,callback:function(t){e.$set(e.performance,"applyDate",t)},expression:"performance.applyDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"工作文件"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"#",multiple:"","on-change":e.handleChange,"on-remove":e.handleRemove,"http-request":e.submit(),"file-list":e.fileList,"auto-upload":!1}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")])],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.saveAdd()}}},[e._v("确 定")])],1)],1)],1)])},staticRenderFns:[]};var i=a("VU/8")(r,s,!1,function(e){a("R+Qr")},"data-v-371baa55",null);t.default=i.exports}});
//# sourceMappingURL=5.539b3f8200ee0e4a4ebe.js.map